---
// Toast notification component - Simple version
---

<div
  id="toast-container"
  class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none"
  role="status"
  aria-live="polite"
></div>

<script is:inline>
(function() {
  function createToast(message, type) {
    var container = document.getElementById('toast-container');
    if (!container) return;
    
    var id = 'toast-' + Date.now();
    var iconMap = {
      success: 'check_circle',
      error: 'error',
      warning: 'warning',
      info: 'info'
    };
    var colorMap = {
      success: 'text-green-400',
      error: 'text-red-400',
      warning: 'text-yellow-400',
      info: 'text-blue-400'
    };
    
    var icon = iconMap[type] || iconMap.info;
    var color = colorMap[type] || colorMap.info;
    
    var div = document.createElement('div');
    div.id = id;
    div.className = 'max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transform transition-all duration-300 ease-out';
    
    var inner = document.createElement('div');
    inner.className = 'p-4';
    
    var flex = document.createElement('div');
    flex.className = 'flex items-start';
    
    var iconWrap = document.createElement('div');
    iconWrap.className = 'flex-shrink-0';
    var iconEl = document.createElement('span');
    iconEl.className = 'material-symbols-outlined ' + color;
    iconEl.textContent = icon;
    iconWrap.appendChild(iconEl);
    
    var textWrap = document.createElement('div');
    textWrap.className = 'ml-3 w-0 flex-1 pt-0.5';
    var textEl = document.createElement('p');
    textEl.className = 'text-sm font-medium text-gray-900';
    textEl.textContent = message;
    textWrap.appendChild(textEl);
    
    var btnWrap = document.createElement('div');
    btnWrap.className = 'ml-4 flex-shrink-0 flex';
    var btn = document.createElement('button');
    btn.className = 'bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none';
    btn.onclick = function() { div.remove(); };
    var closeIcon = document.createElement('span');
    closeIcon.className = 'material-symbols-outlined text-lg';
    closeIcon.textContent = 'close';
    btn.appendChild(closeIcon);
    btnWrap.appendChild(btn);
    
    flex.appendChild(iconWrap);
    flex.appendChild(textWrap);
    flex.appendChild(btnWrap);
    inner.appendChild(flex);
    div.appendChild(inner);
    container.appendChild(div);
    
    setTimeout(function() {
      div.classList.add('opacity-0', 'translate-x-2');
      setTimeout(function() { div.remove(); }, 200);
    }, 3000);
  }
  
  window.showToast = createToast;
  
  window.addEventListener('notify', function(event) {
    createToast(event.detail.message, event.detail.type);
  });
})();
</script>
